{"version":3,"sources":["Components/Dashboard.module.css","Images/arrow-down.png","Images/arrow-up.png","Components/Balance.js","Components/TransactionHistory.js","Components/notification.js","Components/Controls.js","Components/Dashboard.js","App.js","index.js"],"names":["module","exports","controls","balance","balanceSpan","history","arrowDown","require","arrowUp","Balance","_ref","deposit","withdraw","react_default","a","createElement","className","styles","role","aria-label","src","alt","TransactionHistory","transactions","length","map","transaction","key","id","type","amount","date","notyf","addNum","toNull","success","error","Controls","state","handleClick","e","_this","amountNumber","Number","toast","target","name","props","toAddTransaction","Object","objectSpread","setState","handleChange","value","this","onChange","onClick","react_toastify","closeButton","Component","shortid","Dashboard","newTransaction","generate","concat","Date","toLocaleDateString","toLocaleTimeString","toConsumableArray","toGetAmount","arr","filter","el","reduce","acc","cur","localStorage","getItem","savedTransaction","JSON","parse","prevState","prevProps","setItem","stringify","_this$state","dashboard","Components_Controls","Components_Balance","Components_TransactionHistory","App","Components_Dashboard","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.fbbaca5c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Dashboard_controls__22BJ_\",\"balance\":\"Dashboard_balance__2Sdlx\",\"balanceSpan\":\"Dashboard_balanceSpan__vVS7S\",\"history\":\"Dashboard_history__QJGwD\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAOCAYAAAAWo42rAAAAnklEQVQokd3RIW4CURQF0PMbCKYLmDWgEEwCoxCQVLAYNKIJCstiwCGaijGToNgDswBMQ9KP6JC8BFbQK+876t2UcxbTltUOiqZexb7nOaMXnbdX5b+HvbasBtjis2jqazy2ZfWODdbpMp5O8I0T5th3bomjv7/OUs5ZW1YLHHBG6mDGEB9FU3+lx4QB9zv480CQ4tYB/0b0BAO+RQR3CK44JvnEquYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAOCAYAAAAWo42rAAAAkElEQVQokd3POwrCUBAF0POC4l6sLCVViggWrkKr7MdPlV0oWFgEQUtj4VLsLJ5NhCAP7L3VMHNguCHGqJ/ddTXDq8rrpr/PEuiA4+66KpKwh4YYfeMQY+yjB0J3ixhjXuV1E7aX5RRn3FBi38EFTpigyNBijbLK6+fnVTeX2KANidZNB9NlfuWv4CCxu6fgG+RsMn7a0epDAAAAAElFTkSuQmCC\"","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Dashboard.module.css';\n\nconst arrowDown = require('../Images/arrow-down.png');\nconst arrowUp = require('../Images/arrow-up.png');\n\nconst Balance = ({ balance, deposit, withdraw }) => (\n  <section className={styles.balance}>\n    <span role=\"img\" aria-label=\"arrow-up\">\n      <img src={arrowUp} alt=\"arrow\" />\n    </span>\n    <span className={styles.balanceSpan}>{deposit} $</span>\n    <span role=\"img\" aria-label=\"arrow-down\">\n      <img src={arrowDown} alt=\"arrow\" />\n    </span>\n    <span className={styles.balanceSpan}>{withdraw} $</span>\n    <span className={styles.balanceSpan}>Balance: {balance} $</span>\n  </section>\n);\n\nBalance.propTypes = {\n  withdraw: PropTypes.number.isRequired,\n  balance: PropTypes.number.isRequired,\n  deposit: PropTypes.number.isRequired,\n};\n\nexport default Balance;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Dashboard.module.css';\n\nconst TransactionHistory = ({ transactions }) => {\n  return (\n    <table className={styles.history}>\n      <thead>\n        <tr>\n          <th>Transaction</th>\n          <th>Amount</th>\n          <th>Date</th>\n        </tr>\n      </thead>\n      <tbody>\n        {transactions.length > 0 &&\n          transactions.map(transaction => (\n            <tr key={transaction.id}>\n              <td>{transaction.type}</td>\n              <td>{transaction.amount} $</td>\n              <td>{transaction.date}</td>\n            </tr>\n          ))}\n      </tbody>\n    </table>\n  );\n};\n\nTransactionHistory.propTypes = {\n  transactions: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n};\n\nexport default TransactionHistory;\n","const notyf = {\n  addNum: 'Введите сумму для проведения операции!',\n  toNull: 'На счету недостаточно средств для проведения операции!',\n  success: 'Операция произведена успешно!',\n  error: 'Операция не может быть произведена!',\n};\n\nexport default notyf;\n","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport styles from './Dashboard.module.css';\nimport notyf from './notification';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass Controls extends Component {\n  static propTypes = {\n    balance: PropTypes.number.isRequired,\n    toAddTransaction: PropTypes.func.isRequired,\n  };\n\n  state = { amount: '' };\n\n  handleClick = e => {\n    const { amount } = this.state;\n    const amountNumber = Number(amount);\n\n    if (amountNumber < 0) return toast.error(notyf.error);\n    if (amountNumber === 0) {\n      return toast.error(notyf.addNum);\n    }\n    if (e.target.name === 'Withdraw') {\n      if (amountNumber > this.props.balance) {\n        return toast.error(notyf.toNull);\n      }\n    }\n    toast.success(notyf.success);\n    this.props.toAddTransaction({ ...this.state, type: e.target.name });\n    return this.setState({ amount: '' });\n  };\n\n  handleChange = e => this.setState({ amount: e.target.value });\n\n  render() {\n    const { amount } = this.state;\n    return (\n      <section className={styles.controls}>\n        <input type=\"number\" value={amount} onChange={this.handleChange} />\n        <button type=\"button\" name=\"Deposit\" onClick={this.handleClick}>\n          Deposit\n        </button>\n        <button type=\"button\" name=\"Withdraw\" onClick={this.handleClick}>\n          Withdraw\n        </button>\n        <ToastContainer closeButton={false} />\n      </section>\n    );\n  }\n}\n\nexport default Controls;\n","import React, { Component } from 'react';\nimport styles from './Dashboard.module.css';\nimport Balance from './Balance';\nimport TransactionHistory from './TransactionHistory';\nimport Controls from './Controls';\n\nconst shortid = require('shortid');\n\nclass Dashboard extends Component {\n  state = { transactions: [], balance: 0 };\n\n  componentDidMount() {\n    if (localStorage.getItem('transactions')) {\n      const savedTransaction = JSON.parse(localStorage.getItem('transactions'));\n      this.setState({\n        transactions: savedTransaction,\n        balance:\n          this.toGetAmount(savedTransaction, 'Deposit') -\n          this.toGetAmount(savedTransaction, 'Withdraw'),\n      });\n    }\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  componentDidUpdate(prevState, prevProps) {\n    const { transactions } = this.state;\n    if (prevState.transactions !== transactions) {\n      localStorage.setItem('transactions', JSON.stringify(transactions));\n    }\n  }\n\n  toAddTransaction = transaction => {\n    const newTransaction = {\n      id: shortid.generate(),\n      date: `${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}`,\n      ...transaction,\n    };\n\n    this.setState(state => ({\n      transactions: [...state.transactions, newTransaction],\n      balance:\n        newTransaction.type === 'Deposit'\n          ? state.balance + Number(newTransaction.amount)\n          : state.balance - Number(newTransaction.amount),\n    }));\n  };\n\n  toGetAmount = (arr, type) =>\n    arr\n      .filter(el => el.type === type)\n      .reduce((acc, cur) => acc + Number(cur.amount), 0);\n\n  // toWithdraw = arr =>\n  //   arr\n  //     .filter(el => el.type === 'Withdraw')\n  //     .reduce((acc, cur) => acc + Number(cur.amount), 0);\n\n  render() {\n    const { transactions, balance } = this.state;\n    return (\n      <div className={styles.dashboard}>\n        <Controls balance={balance} toAddTransaction={this.toAddTransaction} />\n        <Balance\n          balance={balance}\n          withdraw={this.toGetAmount(transactions)}\n          deposit={this.toGetAmount(transactions)}\n        />\n        <TransactionHistory transactions={transactions} />\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport Dashboard from './Components/Dashboard';\n\nconst App = () => <Dashboard />;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}